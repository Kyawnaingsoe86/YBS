double desLati = 21.8224255;
double desLongi = 96.3426859;
double distance = 0;
double startLati = 0;
double startLongi = 0;
double liveLati = 0;
double liveLongi = 0;
double movement = 0;


startLati = position.latitude;
startLongi = position.longitude;
distance = FlutterMapMath.distanceBetween(
            desLati,
            desLongi,
            position.latitude,
            position.longitude,
            "feet",
            );

if (AppData.busStopList.isEmpty) {
        AppData.busStopList.add(
          BusStop(
            id: 1,
            name: "Start",
            latitude: startLati,
            longitude: startLongi,
          ),
        );
      }

setState(() {
                liveLati = position.latitude;
                liveLongi = position.longitude;
                movement = FlutterMapMath.distanceBetween(
                  startLati,
                  startLongi,
                  liveLati,
                  liveLongi,
                  "feet",
                );
                currentLocation = position.toString();
              });

positionStreamStarted
                ? SizedBox()
                : MaterialButton(
                    onPressed: () async {
                      listenToPosition();
                    },
                    color: Theme.of(context).colorScheme.primary,
                    textColor: Theme.of(context).colorScheme.onPrimary,
                    child: Text("Start Track Location"),
                  ),

            positionStreamStarted
                ? TextButton(
                    onPressed: () {
                      AppData.busStopList.add(
                        BusStop(
                          id: 1,
                          name: "name",
                          latitude: liveLati,
                          longitude: liveLongi,
                        ),
                      );
                      setState(() {});
                    },
                    child: Text("Mark"),
                  )
                : SizedBox(),
            for (var i in AppData.busStopList)
              SelectableText("[${i.latitude}, ${i.longitude}]"),
            TextButton(onPressed: () {}, child: Text("Open Map")),